"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function t(e,n,i){function r(o,s){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,n){!function(t,i){"object"===("undefined"==typeof n?"undefined":_typeof(n))&&"undefined"!=typeof e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.PointerEventsPolyfill=i()}(this,function(){function t(t,e){e=e||Object.create(null);var n=document.createEvent("Event");n.initEvent(t,e.bubbles||!1,e.cancelable||!1);for(var i,r=2;r<c.length;r++)i=c[r],n[i]=e[i]||h[r];n.buttons=e.buttons||0;var a=0;return a=e.pressure?e.pressure:n.buttons?.5:0,n.x=n.clientX,n.y=n.clientY,n.pointerId=e.pointerId||0,n.width=e.width||0,n.height=e.height||0,n.pressure=a,n.tiltX=e.tiltX||0,n.tiltY=e.tiltY||0,n.pointerType=e.pointerType||"",n.hwTimestamp=e.hwTimestamp||0,n.isPrimary=e.isPrimary||!1,n}function e(){this.array=[],this.size=0}function n(t,e,n,i){this.addCallback=t.bind(i),this.removeCallback=e.bind(i),this.changedCallback=n.bind(i),C&&(this.observer=new C(this.mutationWatcher.bind(this)))}function i(t){return"body /shadow-deep/ "+r(t)}function r(t){return'[touch-action="'+t+'"]'}function a(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; touch-action-delay: none; }"}function o(){if(Y){k.forEach(function(t){String(t)===t?(R+=r(t)+a(t)+"\n",L&&(R+=i(t)+a(t)+"\n")):(R+=t.selectors.map(r)+a(t.rule)+"\n",L&&(R+=t.selectors.map(i)+a(t.rule)+"\n"))});var t=document.createElement("style");t.textContent=R,document.head.appendChild(t)}}function s(){if(!window.PointerEvent){if(window.PointerEvent=d,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),T.registerSource("ms",rt)}else T.registerSource("mouse",B),void 0!==window.ontouchstart&&T.registerSource("touch",tt);T.register(document)}}function l(t){if(!T.pointermap.has(t))throw new Error("InvalidPointerId")}function u(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:Q},releasePointerCapture:{value:Z}})}var c=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],h=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],d=t,p=window.Map&&window.Map.prototype.forEach,f=p?Map:e;e.prototype={set:function(t,e){return void 0===e?this["delete"](t):(this.has(t)||this.size++,void(this.array[t]=e))},has:function(t){return void 0!==this.array[t]},"delete":function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,i){t.call(e,n,i,this)},this)}};var v=f,m=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],g=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],E={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},y="undefined"!=typeof SVGElementInstance,b={pointermap:new v,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,i=n.events;i&&(i.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;n>i&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;n>i&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(n){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var n=new d(t,e);return e.preventDefault&&(n.preventDefault=e.preventDefault),n._target=n._target||e.target,n},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),i=0;i<m.length;i++)e=m[i],n[e]=t[e]||g[i],!y||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in E?void 0:e:t._target},setCapture:function(t,e){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=e;var n=document.createEvent("Event");n.initEvent("gotpointercapture",!0,!1),n.pointerId=t,this.implicitRelease=this.releaseCapture.bind(this,t),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),n._target=e,this.asyncDispatchEvent(n)},releaseCapture:function(t){var e=this.captureInfo[t];if(e){var n=document.createEvent("Event");n.initEvent("lostpointercapture",!0,!1),n.pointerId=t,this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),n._target=e,this.asyncDispatchEvent(n)}},dispatchEvent:function(t){var e=this.getTarget(t);return e?e.dispatchEvent(t):void 0},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};b.boundHandler=b.eventHandler.bind(b);var T=b,w={shadow:function(t){return t?t.shadowRoot||t.webkitShadowRoot:void 0},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);return this.canTarget(e)?e:void 0},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var i,r,a=t.elementFromPoint(e,n);for(r=this.targetingShadow(a);r;){if(i=r.elementFromPoint(e,n)){var o=this.targetingShadow(i);return this.searchRoot(o,e,n)||i}r=this.olderShadow(r)}return a}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,i=this.owner(t.target);return i.elementFromPoint(e,n)||(i=document),this.searchRoot(i,e,n)}},S=Array.prototype.forEach.call.bind(Array.prototype.forEach),P=Array.prototype.map.call.bind(Array.prototype.map),I=Array.prototype.slice.call.bind(Array.prototype.slice),x=Array.prototype.filter.call.bind(Array.prototype.filter),C=window.MutationObserver||window.WebKitMutationObserver,O="[touch-action]",M={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};n.prototype={watchSubtree:function(t){this.observer&&w.canTarget(t)&&this.observer.observe(t,M)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){S(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll(O):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(I(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=P(t,this.findElements,this);return e.push(x(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var n=this.flattenMutationTree(t.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var D=n,k=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],R="",Y=window.PointerEvent||window.MSPointerEvent,L=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,N=T.pointermap,X=25,_=[1,4,2,8,16],W=!1;try{W=1===new MouseEvent("test",{buttons:1}).buttons}catch(j){}var A,F={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){T.listen(t,this.events)},unregister:function(t){T.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,r=t.clientY,a=0,o=n.length;o>a&&(e=n[a]);a++){var s=Math.abs(i-e.x),l=Math.abs(r-e.y);if(X>=s&&X>=l)return!0}},prepareEvent:function(t){var e=T.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,e},prepareButtonsForMove:function(t,e){var n=N.get(this.POINTER_ID);t.buttons=n?n.buttons:0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=N.get(this.POINTER_ID),n=this.prepareEvent(t);W||(n.buttons=_[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),N.set(this.POINTER_ID,t),e?T.move(n):T.down(n)}},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);W||this.prepareButtonsForMove(e,t),T.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=N.get(this.POINTER_ID),n=this.prepareEvent(t);if(!W){var i=_[n.button];n.buttons=e?e.buttons&~i:0,t.buttons=n.buttons}N.set(this.POINTER_ID,t),0===n.buttons||n.buttons===_[n.button]?(this.cleanupMouse(),T.up(n)):T.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);W||this.prepareButtonsForMove(e,t),T.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);W||this.prepareButtonsForMove(e,t),T.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);T.cancel(e),this.cleanupMouse()},cleanupMouse:function(){N["delete"](this.POINTER_ID)}},B=F,U=T.captureInfo,z=w.findTarget.bind(w),K=w.allShadows.bind(w),q=T.pointermap,H=2500,G=200,V="touch-action",$=!1,J={events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){$?T.listen(t,this.events):A.enableOnSubtree(t)},unregister:function(t){$&&T.unlisten(t,this.events)},elementAdded:function(t){var e=t.getAttribute(V),n=this.touchActionToScrollType(e);n&&(t._scrollType=n,T.listen(t,this.events),K(t).forEach(function(t){t._scrollType=n,T.listen(t,this.events)},this))},elementRemoved:function(t){t._scrollType=void 0,T.unlisten(t,this.events),K(t).forEach(function(t){t._scrollType=void 0,T.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute(V),i=this.touchActionToScrollType(n),r=this.touchActionToScrollType(e);i&&r?(t._scrollType=i,K(t).forEach(function(t){t._scrollType=i},this)):r?this.elementRemoved(t):i&&this.elementAdded(t)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e=t,n=this.scrollTypes;return"none"===e?"none":e===n.XSCROLLER?"X":e===n.YSCROLLER?"Y":n.SCROLLER.exec(e)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===q.size||1===q.size&&q.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,G)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){var e=0;return("touchstart"===t||"touchmove"===t)&&(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=T.cloneEvent(t),i=n.pointerId=t.identifier+2;n.target=U[i]||z(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=t.radiusX||t.webkitRadiusX||0,n.height=t.radiusY||t.webkitRadiusY||0,n.pressure=t.force||t.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(t),n.pointerType=this.POINTER_TYPE;var r=this;return n.preventDefault=function(){r.scrolling=!1,r.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var i,r=0;r<n.length;r++)i=n[r],e.call(this,this.touchToPointer(i))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if("none"===n)e=!1;else if("XY"===n)e=!0;else{var i=t.changedTouches[0],r=n,a="Y"===n?"X":"Y",o=Math.abs(i["client"+r]-this.firstXY[r]),s=Math.abs(i["client"+a]-this.firstXY[a]);e=o>=s}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,i=0,r=t.length;r>i&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(q.size>=e.length){var n=[];q.forEach(function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var r=t.out;n.push(r)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){q.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),T.over(t),T.enter(t),T.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=q.get(e.pointerId);if(n){var i=n.out,r=n.outTarget;T.move(e),i&&r!==e.target&&(i.relatedTarget=e.target,e.relatedTarget=r,i.target=r,e.target?(T.leaveOut(i),T.enterOver(e)):(e.target=r,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(T.up(t),T.out(t),T.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){T.cancel(t),T.out(t),T.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){q["delete"](t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=B.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};e.push(i);var r=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,i);setTimeout(r,H)}}};$||(A=new D(J.elementAdded,J.elementRemoved,J.elementChanged,J));var Q,Z,tt=J,et=T.pointermap,nt=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,it={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){T.listen(t,this.events)},unregister:function(t){T.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return nt&&(e=T.cloneEvent(t),e.pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){et["delete"](t)},MSPointerDown:function(t){et.set(t.pointerId,t);var e=this.prepareEvent(t);T.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);T.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);T.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);T.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);T.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);T.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=T.makeEvent("lostpointercapture",t);T.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=T.makeEvent("gotpointercapture",t);T.dispatchEvent(e)}},rt=it,at=window.navigator;at.msPointerEnabled?(Q=function(t){l(t),this.msSetPointerCapture(t)},Z=function(t){l(t),this.msReleasePointerCapture(t)}):(Q=function(t){l(t),T.setCapture(t,this)},Z=function(t){l(t),T.releaseCapture(t,this)}),o(),s(),u();var ot={dispatcher:T,Installer:D,PointerEvent:d,PointerMap:v,targetFinding:w};return ot})},{}],2:[function(t,e,n){var i=t("./snap");"undefined"==typeof window||window.Snap||(window.Snap=i)},{"./snap":3}],3:[function(t,e,n){t("pepjs");var i=function(t){var e={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5,stopPropagation:!0},n={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},i={},r={eventType:function(t){var e={down:"pointerdown",move:"pointermove",up:"pointerup",out:"pointerout"};return e[t]},page:function(t,e){return e["page"+t]},klass:{has:function(t,e){return-1!==t.className.indexOf(e)},add:function(t,n){!r.klass.has(t,n)&&e.addBodyClasses&&(t.className+=" "+n)},remove:function(t,n){e.addBodyClasses&&(t.className=t.className.replace(n,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(t){return"function"==typeof i[t]?i[t].call():void 0},vendor:function(){var t,e=document.createElement("div"),n="webkit Moz O ms".split(" ");for(t in n)if("undefined"!=typeof e.style[n[t]+"Transition"])return n[t]},transitionCallback:function(){return"Moz"===n.vendor||"ms"===n.vendor?"transitionend":n.vendor+"TransitionEnd"},canTransform:function(){return"undefined"!=typeof e.element.style[n.vendor+"Transform"]},deepExtend:function(t,e){var n;for(n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},r.deepExtend(t[n],e[n])):t[n]=e[n];return t},angleOfDrag:function(t,e){var i,r;return r=Math.atan2(-(n.startDragY-e),n.startDragX-t),0>r&&(r+=2*Math.PI),i=Math.floor(r*(180/Math.PI)-180),0>i&&i>-180&&(i=360-Math.abs(i)),Math.abs(i)},events:{addEvent:function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):void 0},removeEvent:function(t,e,n){return t.addEventListener?t.removeEventListener(e,n,!1):t.attachEvent?t.detachEvent("on"+e,n):void 0},prevent:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},parentUntil:function(t,e){for(var n="string"==typeof e;t.parentNode;){if(n&&t.getAttribute&&t.getAttribute(e))return t;if(!n&&t===e)return t;t=t.parentNode}return null}},a={translate:{get:{matrix:function l(t){if(r.canTransform()){var l=window.getComputedStyle(e.element)[n.vendor+"Transform"].match(/\((.*)\)/),i=8;return l?(l=l[1].split(","),16===l.length&&(t+=i),parseInt(l[t],10)):0}return parseInt(e.element.style.left,10)}},easeCallback:function(){e.element.style[n.vendor+"Transition"]="",n.translation=a.translate.get.matrix(4),n.easing=!1,clearInterval(n.animatingInterval),0===n.easingTo&&(r.klass.remove(document.body,"snapjs-right"),r.klass.remove(document.body,"snapjs-left")),r.dispatchEvent("animated"),r.events.removeEvent(e.element,r.transitionCallback(),a.translate.easeCallback)},easeTo:function(t){r.canTransform()?(n.easing=!0,n.easingTo=t,e.element.style[n.vendor+"Transition"]="all "+e.transitionSpeed+"s "+e.easing,n.animatingInterval=setInterval(function(){r.dispatchEvent("animating")},1),r.events.addEvent(e.element,r.transitionCallback(),a.translate.easeCallback),a.translate.x(t)):(n.translation=t,a.translate.x(t)),0===t&&(e.element.style[n.vendor+"Transform"]="")},x:function(t){if(!("left"===e.disable&&t>0||"right"===e.disable&&0>t))if(e.hyperextensible||(t===e.maxPosition||t>e.maxPosition?t=e.maxPosition:(t===e.minPosition||t<e.minPosition)&&(t=e.minPosition)),t=parseInt(t,10),isNaN(t)&&(t=0),r.canTransform()){var i="translate3d("+t+"px, 0,0)";e.element.style[n.vendor+"Transform"]=i}else e.element.style.width=(window.innerWidth||document.documentElement.clientWidth)+"px",e.element.style.left=t+"cat distpx",e.element.style.right=""}},drag:{listen:function(){n.translation=0,n.easing=!1,r.events.addEvent(e.element,r.eventType("down"),a.drag.startDrag),r.events.addEvent(e.element,r.eventType("move"),a.drag.dragging),r.events.addEvent(e.element,r.eventType("up"),a.drag.endDrag)},stopListening:function(){r.events.removeEvent(e.element,r.eventType("down"),a.drag.startDrag),r.events.removeEvent(e.element,r.eventType("move"),a.drag.dragging),r.events.removeEvent(e.element,r.eventType("up"),a.drag.endDrag)},startDrag:function(t){e.stopPropagation&&t.stopPropagation();var i=t.target?t.target:t.srcElement,a=r.parentUntil(i,"data-snap-ignore");if(a)return void r.dispatchEvent("ignore");if(e.dragger){var o=r.parentUntil(i,e.dragger);if(!o&&n.translation!==e.minPosition&&n.translation!==e.maxPosition)return}r.dispatchEvent("start"),e.element.style[n.vendor+"Transition"]="",n.isDragging=!0,n.hasIntent=null,n.intentChecked=!1,n.startDragX=r.page("X",t),n.startDragY=r.page("Y",t),n.dragWatchers={current:0,last:0,hold:0,state:""},n.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(t){if(n.isDragging&&e.touchToDrag){e.stopPropagation&&t.stopPropagation();var i,o=r.page("X",t),s=r.page("Y",t),l=n.translation,u=a.translate.get.matrix(4),c=o-n.startDragX,h=u>0,d=c;if(n.intentChecked&&!n.hasIntent)return;if(e.addBodyClasses&&(u>0?(r.klass.add(document.body,"snapjs-left"),r.klass.remove(document.body,"snapjs-right")):0>u&&(r.klass.add(document.body,"snapjs-right"),r.klass.remove(document.body,"snapjs-left"))),n.hasIntent===!1||null===n.hasIntent){var p=r.angleOfDrag(o,s),f=p>=0&&p<=e.slideIntent||360>=p&&p>360-e.slideIntent,v=p>=180&&p<=180+e.slideIntent||180>=p&&p>=180-e.slideIntent;v||f?n.hasIntent=!0:n.hasIntent=!1,n.intentChecked=!0}if(e.minDragDistance>=Math.abs(o-n.startDragX)||n.hasIntent===!1)return;r.events.prevent(t),r.dispatchEvent("drag"),n.dragWatchers.current=o,n.dragWatchers.last>o?("left"!==n.dragWatchers.state&&(n.dragWatchers.state="left",n.dragWatchers.hold=o),n.dragWatchers.last=o):n.dragWatchers.last<o&&("right"!==n.dragWatchers.state&&(n.dragWatchers.state="right",n.dragWatchers.hold=o),n.dragWatchers.last=o),h?(e.maxPosition<u&&(i=(u-e.maxPosition)*e.resistance,d=c-i),n.simpleStates={opening:"left",towards:n.dragWatchers.state,hyperExtending:e.maxPosition<u,halfway:u>e.maxPosition/2,flick:Math.abs(n.dragWatchers.current-n.dragWatchers.hold)>e.flickThreshold,translation:{absolute:u,relative:c,sinceDirectionChange:n.dragWatchers.current-n.dragWatchers.hold,percentage:u/e.maxPosition*100}}):(e.minPosition>u&&(i=(u-e.minPosition)*e.resistance,d=c-i),n.simpleStates={opening:"right",towards:n.dragWatchers.state,hyperExtending:e.minPosition>u,halfway:u<e.minPosition/2,flick:Math.abs(n.dragWatchers.current-n.dragWatchers.hold)>e.flickThreshold,translation:{absolute:u,relative:c,sinceDirectionChange:n.dragWatchers.current-n.dragWatchers.hold,percentage:u/e.minPosition*100}}),a.translate.x(d+l)}},endDrag:function(t){if(n.isDragging){e.stopPropagation&&t.stopPropagation(),r.dispatchEvent("end");var i=a.translate.get.matrix(4);if(0===n.dragWatchers.current&&0!==i&&e.tapToClose)return r.dispatchEvent("close"),r.events.prevent(t),a.translate.easeTo(0),n.isDragging=!1,void(n.startDragX=0);"left"===n.simpleStates.opening?n.simpleStates.halfway||n.simpleStates.hyperExtending||n.simpleStates.flick?n.simpleStates.flick&&"left"===n.simpleStates.towards?a.translate.easeTo(0):(n.simpleStates.flick&&"right"===n.simpleStates.towards||n.simpleStates.halfway||n.simpleStates.hyperExtending)&&a.translate.easeTo(e.maxPosition):a.translate.easeTo(0):"right"===n.simpleStates.opening&&(n.simpleStates.halfway||n.simpleStates.hyperExtending||n.simpleStates.flick?n.simpleStates.flick&&"right"===n.simpleStates.towards?a.translate.easeTo(0):(n.simpleStates.flick&&"left"===n.simpleStates.towards||n.simpleStates.halfway||n.simpleStates.hyperExtending)&&a.translate.easeTo(e.minPosition):a.translate.easeTo(0)),n.isDragging=!1,n.startDragX=r.page("X",t)}}}},o=function(t){if(!t.element)throw"Snap's element argument does not exist.";r.deepExtend(e,t),e.element.setAttribute("touch-action","pan-y")},s=function(t){o(t),n.vendor=r.vendor(),a.drag.listen()};this.open=function(t){r.dispatchEvent("open"),r.klass.remove(document.body,"snapjs-expand-left"),r.klass.remove(document.body,"snapjs-expand-right"),"left"===t?(n.simpleStates.opening="left",n.simpleStates.towards="right",r.klass.add(document.body,"snapjs-left"),r.klass.remove(document.body,"snapjs-right"),a.translate.easeTo(e.maxPosition)):"right"===t&&(n.simpleStates.opening="right",n.simpleStates.towards="left",r.klass.remove(document.body,"snapjs-left"),r.klass.add(document.body,"snapjs-right"),a.translate.easeTo(e.minPosition))},this.close=function(){r.dispatchEvent("close"),a.translate.easeTo(0)},this.expand=function(t){var e=window.innerWidth||document.documentElement.clientWidth;"left"===t?(r.dispatchEvent("expandLeft"),r.klass.add(document.body,"snapjs-expand-left"),r.klass.remove(document.body,"snapjs-expand-right")):(r.dispatchEvent("expandRight"),r.klass.add(document.body,"snapjs-expand-right"),r.klass.remove(document.body,"snapjs-expand-left"),e*=-1),a.translate.easeTo(e)},this.on=function(t,e){return i[t]=e,this},this.off=function(t){i[t]&&(i[t]=!1)},this.enable=function(){r.dispatchEvent("enable"),a.drag.listen()},this.disable=function(){r.dispatchEvent("disable"),a.drag.stopListening()},this.settings=function(t){o(t)},this.state=function(){var t,i=a.translate.get.matrix(4);return t=i===e.maxPosition?"left":i===e.minPosition?"right":"closed",{state:t,info:n.simpleStates}},s(t)};e.exports=i},{pepjs:1}]},{},[2]);